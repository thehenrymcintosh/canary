<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Canary</title>
    <link rel="stylesheet" href="/css/styles.css">
    <link rel="manifest" href="/manifest.json">
    <meta name="theme-color" content="#4FC3F7">
    <link rel="icon" sizes="192x192" href="/graphics/icons/canary_icon-192.png">
</head>
<body>

    <div class="main-header"> 
        <div class="main-menu">
        <a href="/">Home</a> 
        {{#if user}}
            <a href="/dashboard">Dashboard</a> 
            <a href="/users/logout">Logout</a>
         {{else}}
            <a href="/users/login">Login</a> 
            <a href="/users/register">Register</a> 
         {{/if}}
         
         </div> 
    </div>
    
    {{#if success_msg}}
        <div class="notice"> {{success_msg}} </div>
    {{/if}}
    {{#if error_msg}}
        <div class="notice"> {{error_msg}} </div>
    {{/if}}
    {{#if error}}
        <div class="notice"> {{error}} </div>
    {{/if}}


    {{{body}}}
</body>

{{!-- come back to service workers --}}
<script>
  if ('serviceWorker' in navigator) {
    navigator.serviceWorker.register('/service-worker.js')
    .then(function(registration) {
    // Successful registration
    console.log('Registration successful, scope is:', registration.scope);
    }).catch(function(err) {
    // Failed registration, service worker wonâ€™t be installed
    console.log('Whoops. Service worker registration failed, error:', err);
    });
}
</script>
</html>